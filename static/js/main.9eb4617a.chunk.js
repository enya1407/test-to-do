(this["webpackJsonptest-to-do"]=this["webpackJsonptest-to-do"]||[]).push([[0],{145:function(e,t,r){e.exports={logoWrapper:"ToDoWrapper_logoWrapper__18BZ5",wrapper:"ToDoWrapper_wrapper__1rGMm",form:"ToDoWrapper_form__2RfZh",input:"ToDoWrapper_input__OZvEY"}},176:function(e,t,r){e.exports={table:"DataTable_table__jPvtb"}},190:function(e,t,r){},196:function(e,t,r){},271:function(e,t,r){"use strict";r.r(t);var n,a=r(0),c=r.n(a),o=r(39),i=r.n(o),u=(r(190),r(50)),s=r(67),d=r(170),l=r(175),p=r(37),b=function(e){return{type:"CHANGE_LOADING",payload:{isLoading:e}}},f=function(){return{type:"FETCH_DATA"}},j=function(e){return{type:"DATA_FETCHED",payload:{todos:e}}},O=function(e){return{type:"ADD_DATA",payload:{todo:e}}},v=function(e){return{type:"DELETE_DATA",payload:{id:e}}},h=function(e){return{type:"EDIT_DATA",payload:{todo:e}}},x=function(e,t,r){return{type:"EDIT_PROPERTY",payload:{draggableId:e,leftId:t,rightId:r}}},y=r(171),g=function(e){return e().type},m=function(e,t,r){return e.reduce((function(e,r){var n=g(r);return e.hasOwnProperty(n)||(e[n]=[]),e[n].push(t),e}),r)},k=(n={isLoading:!0,todos:[]},function(e){var t=e.reduce((function(e,t){var r=Object(y.a)(t),n=r[0],a=r.slice(1);return m(a,n,e)}),{});return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,r=arguments.length>1?arguments[1]:void 0;return t.hasOwnProperty(r.type)?t[r.type].reduce((function(e,t){return t(e,r)}),e):e}})([[function(e,t){return Object(p.a)(Object(p.a)({},e),{},{isLoading:t.payload.isLoading})},b],[function(e){return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0})},f],[function(e,t){return Object(p.a)(Object(p.a)({},e),{},{todos:t.payload.todos,isLoading:!1})},j],[function(e){return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0})},x]]),w=r(12),I=r(3),D=r.n(I),E=r(9),_=r(172),T=r(47),A=r(82),C=r(182),P=function(e){return e.isLoading},N=function(e){return e.todos},L=r(57),R=function(e,t){var r=e.filter((function(e){return e.id!==t.draggableId})),n=e.findIndex((function(e){return e.id===t.leftId})),a=e.findIndex((function(e){return e.id===t.draggableId}))>n?n+1:n,c=t.leftId?r.slice(0,a):[],o=t.rightId?r.slice(a,e.length):[],i=e.find((function(e){return e.id===t.draggableId}));return[].concat(Object(L.a)(c),[i],Object(L.a)(o)).map((function(t,r){return Object(p.a)(Object(p.a)({},t),{},{priority:e.length-r})}))},F=Object(_.a)({apiKey:"AIzaSyCzze7ompdDAQI0RQSQaEopDB8itPqtn0o",authDomain:"to-do-list-e2ca9.firebaseapp.com",databaseURL:"https://to-do-list-e2ca9-default-rtdb.europe-west1.firebasedatabase.app",projectId:"to-do-list-e2ca9",storageBucket:"to-do-list-e2ca9.appspot.com",messagingSenderId:"205229194553",appId:"1:205229194553:web:1d12427b028b2b285e3ce8",measurementId:"G-MQ3KTWJHV1"}),S=Object(T.c)(F);function W(){return H.apply(this,arguments)}function H(){return(H=Object(E.a)(D.a.mark((function e(){var t,r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(T.a)(S,"todos"),r=Object(T.e)(t,Object(T.d)("priority","desc")),e.next=4,Object(T.b)(r);case 4:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return e.data()})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return G.apply(this,arguments)}function G(){return(G=Object(E.a)(D.a.mark((function e(t){var r,n,a,c,o,i;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(T.a)(S,"todos"),n=Object(T.e)(r,Object(T.f)("id","==",t)),e.next=4,Object(T.b)(n);case 4:a=e.sent,c=Object(w.a)(a.docs),e.prev=6,c.s();case 8:if((o=c.n()).done){e.next=14;break}return i=o.value,e.next=12,Object(A.c)(i.ref);case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),c.e(e.t0);case 19:return e.prev=19,c.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[6,16,19,22]])})))).apply(this,arguments)}function M(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(E.a)(D.a.mark((function e(t){var r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(T.a)(S,"todos"),e.next=3,Object(A.a)(r,t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return J.apply(this,arguments)}function J(){return(J=Object(E.a)(D.a.mark((function e(t){var r,n,a,c,o,i;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(T.a)(S,"todos"),n=Object(T.e)(r,Object(T.f)("id","==",t.id)),e.next=4,Object(T.b)(n);case 4:a=e.sent,c=Object(w.a)(a.docs),e.prev=6,c.s();case 8:if((o=c.n()).done){e.next=14;break}return i=o.value,e.next=12,Object(A.h)(i.ref,t);case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),c.e(e.t0);case 19:return e.prev=19,c.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[6,16,19,22]])})))).apply(this,arguments)}function K(e){return V.apply(this,arguments)}function V(){return(V=Object(E.a)(D.a.mark((function e(t){var r,n,a,c,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(T.a)(S,"todos"),e.next=3,Object(T.b)(r);case 3:n=e.sent,a=Object(w.a)(n.docs),e.prev=5,o=D.a.mark((function e(){var r,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.value,n=t.find((function(e){return e.id===r.data().id})),e.next=4,Object(A.h)(r.ref,n);case 4:case"end":return e.stop()}}),e)})),a.s();case 8:if((c=a.n()).done){e.next=12;break}return e.delegateYield(o(),"t0",10);case 10:e.next=8;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(5),a.e(e.t1);case 17:return e.prev=17,a.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[5,14,17,20]])})))).apply(this,arguments)}var Y=function(e){return e.type===g(v)},Z=function(e){return e.type===g(O)},q=function(e){return e.type===g(h)},U=function(e){return e.type===g(x)},X=Object(s.createStore)(k,Object(d.composeWithDevTools)(Object(s.applyMiddleware)(l.a,(function(e){var t=e.dispatch,r=e.getState;return function(e){return function(){var n=Object(E.a)(D.a.mark((function n(a){var c,o,i,u,s,d,l,p,O,v,h;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.type!==g(f)){n.next=13;break}return n.prev=1,n.next=4,W();case 4:return c=n.sent,n.abrupt("return",t(j(c)));case 8:return n.prev=8,n.t0=n.catch(1),C.b.error("loading error"),console.log("Error",n.t0),n.abrupt("return",t(b(!1)));case 13:if(!Y(a)){n.next=29;break}return n.prev=14,o=a.payload.id,n.next=18,B(o);case 18:return n.next=20,W();case 20:return i=n.sent,n.abrupt("return",t(j(i)));case 24:return n.prev=24,n.t1=n.catch(14),C.b.error("loading error"),console.log("Error",n.t1),n.abrupt("return",t(b(!1)));case 29:if(!Z(a)){n.next=45;break}return n.prev=30,u=a.payload.todo,n.next=34,M(u);case 34:return n.next=36,W();case 36:return s=n.sent,n.abrupt("return",t(j(s)));case 40:return n.prev=40,n.t2=n.catch(30),C.b.error("loading error"),console.log("Error",n.t2),n.abrupt("return",t(b(!1)));case 45:if(!q(a)){n.next=61;break}return n.prev=46,d=a.payload.todo,n.next=50,z(d);case 50:return n.next=52,W();case 52:return l=n.sent,n.abrupt("return",t(j(l)));case 56:return n.prev=56,n.t3=n.catch(46),C.b.error("loading error"),console.log("Error",n.t3),n.abrupt("return",t(b(!1)));case 61:if(!U(a)){n.next=79;break}return p=r(),O=N(p),v=R(O,a.payload),n.prev=65,n.next=68,K(v);case 68:return n.next=70,W();case 70:return h=n.sent,n.abrupt("return",t(j(h)));case 74:return n.prev=74,n.t4=n.catch(65),C.b.error("loading error"),console.log("Error",n.t4),n.abrupt("return",t(b(!1)));case 79:return n.abrupt("return",e(a));case 80:case"end":return n.stop()}}),n,null,[[1,8],[14,24],[30,40],[46,56],[65,74]])})));return function(e){return n.apply(this,arguments)}}()}})))),$=(r(196),r(38)),ee=r(145),te=r.n(ee),re=r(276),ne=r(274),ae=r(179),ce=r(71),oe=r(100),ie=r(275),ue=r(176),se=r.n(ue),de=r(112),le=r(23),pe=function(e){return function(t){return Object(le.jsx)(de.a,Object(p.a)(Object(p.a)({onDragEnd:e},t),{},{children:Object(le.jsx)(de.c,{droppableId:"list",children:function(e){return Object(le.jsxs)("tbody",Object(p.a)(Object(p.a)({ref:e.innerRef},e.droppableProps),{},{children:[t.children,e.placeholder]}))}})}))}};pe.displayName="DroppableBodyRender";var be=Object(a.createContext)(null),fe=function(e){return function(t){var r=e.find((function(e){return e.id===t["data-row-key"]}));if(!r)return Object(le.jsx)("tr",{children:t.children});var n=e.indexOf(r);return Object(le.jsx)(de.b,{draggableId:r.id,index:Number(n),children:function(e,n){var a;return Object(le.jsx)("tr",Object(p.a)(Object(p.a)({ref:e.innerRef},e.draggableProps),{},{id:r.id,children:Object(le.jsx)(be.Provider,{value:null!==(a=e.dragHandleProps)&&void 0!==a?a:null,children:t.children})}))}})}};fe.displayName="DraggableRowRender";var je=function(){var e=Object(a.useContext)(be);return Object(le.jsx)(ne.a,{justify:"center",children:Object(le.jsx)("div",Object(p.a)(Object(p.a)({},e),{},{style:{margin:"0 6px"},children:":::"}))})},Oe=function(){var e=Object(u.d)(N),t=Object(u.d)(P),r=Object(a.useRef)(null),n=Object(u.c)(),c=Object(a.useState)(null),o=Object($.a)(c,2),i=o[0],s=o[1];Object(a.useEffect)((function(){var e;i&&(null===(e=r.current)||void 0===e||e.focus())}),[i]);var d=function(){n(b(!0)),n(h(i)),s(null)},l=function(){s(null)},f=[{title:"",dataIndex:"priority",width:20,className:"dragVisible",render:je},{title:"checked",dataIndex:"checked",width:50,render:function(e,t){return Object(le.jsx)(oe.a,{checked:t.checked,onChange:function(){return function(e){n(b(!0)),i&&e.id===i.id&&s(null),n(h({id:e.id,value:e.value,checked:!e.checked,priority:e.priority}))}(t)}})}},{title:"value",dataIndex:"value",render:function(e,t){return i&&i.id===t.id?Object(le.jsx)(ae.a,{ref:r,value:i.value,onChange:function(e){return s(Object(p.a)(Object(p.a)({},i),{},{value:e.target.value}))}}):Object(le.jsx)("span",{style:{textDecoration:t.checked?"line-through":"none"},children:t.value})}},{title:"action",dataIndex:"action",width:170,render:function(e,t){return i&&i.id===t.id?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ce.a,{onClick:d,children:"Save"})," ",Object(le.jsx)(ce.a,{onClick:l,children:"cancel"})]}):Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ce.a,{disabled:t.checked,onClick:function(){return function(e){s(e)}(t)},children:"Edit"})," ",Object(le.jsx)(ce.a,{disabled:t.checked,onClick:function(){return e=t.id,n(b(!0)),void n(v(e));var e},children:"Delete"})]})}}];return Object(le.jsx)(ie.a,{columns:f,loading:t,dataSource:e,className:se.a.table,pagination:!1,rowKey:function(e){return e.id},components:{body:{wrapper:pe((function(t){var r=t.draggableId,a=t.destination,c=t.source,o=null===a||void 0===a?void 0:a.index,i=null===c||void 0===c?void 0:c.index;if("number"===typeof o&&o!==i){var u,s;o>i?(u=0===o?void 0:o,s=o===e.length-1?void 0:Number(o)+1):(u=0===o?void 0:o-1,s=o===e.length-1?void 0:o);var d=void 0!==u?e[u].id:void 0,l=void 0!==s?e[s].id:void 0;n(b(!0)),n(x(r,d,l))}})),row:fe(e)}}})},ve=r(277),he=function(){var e=re.a.useForm(),t=Object($.a)(e,1)[0],r=Object(u.d)(N),n=Object(u.c)(),a=function(){var e=Object(E.a)(D.a.mark((function e(){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(b(!0)),e.next=4,t.validateFields();case 4:a=t.getFieldValue(["input"]),n(O({id:Object(ve.a)(),value:a,checked:!1,priority:r.length>0?r[0].priority+1:1})),t.resetFields(["input"]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("errorInfo:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(le.jsxs)("div",{className:te.a.wrapper,children:[Object(le.jsx)(re.a,{form:t,className:te.a.form,onFinish:function(){return a()},children:Object(le.jsxs)(ne.a,{justify:"space-between",children:[" ",Object(le.jsx)(re.a.Item,{name:"input",className:te.a.input,rules:[{required:!0,validator:function(e,t){return t.trim()?Promise.resolve():Promise.reject(new Error("Please input item"))}}],children:Object(le.jsx)(ae.a,{placeholder:"input new item"})}),Object(le.jsx)(re.a.Item,{children:Object(le.jsx)(ce.a,{type:"primary",onClick:a,children:"Add"})})]})}),Object(le.jsx)(Oe,{})]})};r(270);var xe=function(){var e=Object(u.c)();return Object(a.useEffect)((function(){e(b(!0)),e({type:"FETCH_DATA"})}),[]),Object(le.jsx)("div",{className:"App",children:Object(le.jsx)(he,{})})};i.a.render(Object(le.jsx)(c.a.StrictMode,{children:Object(le.jsx)(u.a,{store:X,children:Object(le.jsx)(xe,{})})}),document.getElementById("root"))}},[[271,1,2]]]);
//# sourceMappingURL=main.9eb4617a.chunk.js.map